<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Google</title> <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000; /* OLED Black */
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            color: #333;
        }

        /* The Invisible Grid */
        #touch-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .zone {
            /* border: 1px solid #333; Remove this border for performance */ 
        }

        /* Feedback (Vibration helper) */
        #feedback {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: #222; /* Almost invisible text for debugging */
            pointer-events: none;
            font-size: 12px;
        }

        /* The Reveal Screen */
        #reveal-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            display: none; /* Hidden by default */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 20;
        }

        #reveal-word {
            font-size: 3rem;
            font-weight: 800;
            text-transform: uppercase;
        }

        .google-header {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #5f6368;
        }
    </style>
</head>
<body>

    <div id="touch-layer">
        <div class="zone" id="z1" data-val="1"></div> <div class="zone" id="z2" data-val="2"></div> <div class="zone" id="z3" data-val="3"></div> <div class="zone" id="z4" data-val="4"></div> </div>

    <div id="feedback">Waiting...</div>

    <div id="reveal-layer">
        <div class="google-header">Did you mean:</div>
        <div id="reveal-word">WORD</div>
    </div>

<script>
    // --- 1. THE DATABASE (Mini Dictionary) ---
    // In a real app, this would be 5,000+ words.
    // Format: "WORD": [Zone Sequence]
    // 1=Vowel, 2=RSTLN, 3=BCDFGHMP, 4=Rare
    
    const dictionary = {
        "APPLE": "13321", // A(1) P(3) P(3) L(2) E(1)
        "WATER": "41212", // W(4) A(1) T(2) E(1) R(2)
        "MAGIC": "31313", // M(3) A(1) G(3) I(1) C(3)
        "PHONE": "33121", // P(3) H(3) O(1) N(2) E(1)
        "TIGER": "21312", // T(2) I(1) G(3) E(1) R(2)
        "ZEBRA": "41321", // Z(4) E(1) B(3) R(2) A(1)
        "HOUSE": "31121", // H(3) O(1) U(1) S(2) E(1)
        "CHAIR": "33112", // C(3) H(3) A(1) I(1) R(2)
        "MUSIC": "31213", // M(3) U(1) S(2) I(1) C(3)
        "PIZZA": "31441"  // P(3) I(1) Z(4) Z(4) A(1)
    };

    let currentSequence = "";
    
    // --- 2. INPUT HANDLING ---
    
    const zones = document.querySelectorAll('.zone');
    const feedback = document.getElementById('feedback');
    const revealLayer = document.getElementById('reveal-layer');
    const revealText = document.getElementById('reveal-word');

    // Add Touch Listeners
    zones.forEach(zone => {
        zone.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Prevent zoom/scroll
            handleInput(zone.dataset.val);
        });
    });

    function handleInput(val) {
        currentSequence += val;
        
        // Vibration Feedback (Stealth)
        if (navigator.vibrate) navigator.vibrate(50); 
        
        // Show debug code (Make this invisible in performance)
        feedback.innerText = currentSequence; 

        // Check for match automatically (Optional)
        // checkMatch();
    }

    // --- 3. REVEAL LOGIC (Swipe Up) ---
    
    let touchStartY = 0;
    document.addEventListener('touchstart', e => {
        touchStartY = e.changedTouches[0].screenY;
    });

    document.addEventListener('touchend', e => {
        let touchEndY = e.changedTouches[0].screenY;
        
        // Detect Upward Swipe
        if (touchStartY - touchEndY > 100) { 
            findWord();
        }
        
        // Detect Double Tap (Center) to Reset
        // (Implementation omitted for brevity, add simpler reset button for now)
    });
    
    function findWord() {
        // Simple exact match search
        // In "Better" version, use Fuzzy Search if you missed a letter
        const match = Object.keys(dictionary).find(key => dictionary[key] === currentSequence);
        
        if (match) {
            showReveal(match);
        } else {
            // If no exact match, show the closest partial match
            const partial = Object.keys(dictionary).find(key => dictionary[key].startsWith(currentSequence));
            if(partial) {
                showReveal(partial + "?");
            } else {
                feedback.innerText = "No Match";
                navigator.vibrate([100, 50, 100]); // Error buzz
            }
        }
    }

    function showReveal(word) {
        revealText.innerText = word;
        revealLayer.style.display = 'flex';
        navigator.vibrate(200); // Success buzz
    }

    // Reset by tapping the reveal screen
    revealLayer.addEventListener('click', () => {
        revealLayer.style.display = 'none';
        currentSequence = "";
        feedback.innerText = "Waiting...";
    });

</script>
</body>
</html>
